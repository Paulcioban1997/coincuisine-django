{% extends 'recipes/recettes/base.html' %}
{% load static %}
{% load i18n %}
{% block content %}
{% if user.is_authenticated %}
  <div style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.2)), url('{% static 'images/mclaren.png' %}'); background-size: cover; background-position: center; min-height: 100vh; width: 100vw; display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; padding: 0;">
    <div style="background: rgba(0,0,0,0.4); padding: 60px 40px 40px 40px; border-radius: 30px; box-shadow: 0 4px 16px 0 rgba(31,38,135,0.27); display: flex; flex-direction: column; align-items: center; max-width: 420px; width: 100%;">
      <h1 style="font-size: 2.2em; color: #ff9800; font-weight: bold; letter-spacing: 2px; text-align: center;">{% trans "Vous êtes déjà connecté !" %}</h1>
      <p style="font-size: 1.1em; color: #eee; text-align: center;">{% blocktrans with username=user.username %}Vous êtes déjà authentifié en tant que <b>{{ username }}</b>.{% endblocktrans %}</p>
      <form method="post" action="{% url 'logout' %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger btn-lg mt-4" style="font-size: 1.1em; font-weight: bold;">{% trans "Se déconnecter" %}</button>
      </form>
      <a href="{% url 'home' %}" class="btn btn-warning btn-lg mt-2" style="font-size: 1.1em; font-weight: bold;">{% trans "Retour à l'accueil" %}</a>
    </div>
  </div>
{% else %}
  <div style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.2)), url('{% static 'images/mclaren.png' %}'); background-size: cover; background-position: center; min-height: 100vh; width: 100vw; display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; padding: 0;">
      <div style="background: rgba(0,0,0,0.4); padding: 60px 40px 40px 40px; border-radius: 30px; box-shadow: 0 4px 16px 0 rgba(31,38,135,0.27); display: flex; flex-direction: column; align-items: center; max-width: 420px; width: 100%;">
          <h1 style="font-size: 3em; color: #ff9800; font-weight: bold; letter-spacing: 2px; text-align: center;">{% trans "Connexion" %}</h1>
          <p style="font-size: 1.2em; margin-top: 10px; color: #eee; text-align: center;">{% trans "Bienvenue sur le site de recettes inspiré par la passion automobile !" %}</p>
          <form method="post" action="{% url 'login' %}" style="width: 100%; margin-top: 30px;">
              {% csrf_token %}
              {{ form.as_p }}
              <button type="submit" class="btn btn-warning btn-lg w-100" style="font-size: 1.2em; font-weight: bold;">{% trans "Connexion" %}</button>
          </form>
          <div class="mt-3 text-center">
              <a href="{% url 'password_reset' %}" style="color: #fff;">{% trans "Mot de passe oublié ?" %}</a><br>
              <a href="{% url 'signup' %}" class="btn btn-outline-light btn-lg mt-3" style="font-size: 1.1em; font-weight: bold; width: 100%;">{% trans "S'inscrire" %}</a>
          </div>
      </div>
  </div>
{% endif %}
{% endblock %}
